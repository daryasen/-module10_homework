// factorial.test.js.  юнит-тесты (минимум три).
const factorial = require('./factorial');

describe('Функция factorial', () => {
  it('должна возвращать 1 для чисел 0 и 1', () => {
    expect(factorial(0)).toBe(1);
    expect(factorial(1)).toBe(1);
  });

  it('должна правильно вычислять факториал положительных чисел', () => {
    expect(factorial(5)).toBe(120);
    expect(factorial(10)).toBe(3628800);
    expect(factorial(15)).toBe(1307674368000);
  });

  it('должна выбрасывать ошибку для отрицательных чисел', () => {
    expect(() => factorial(-1)).toThrowError("Факториал не определен для отрицательных чисел.");
    expect(() => factorial(-10)).toThrowError("Факториал не определен для отрицательных чисел.");
  });

  // Новые тесты:
  it('должна возвращать NaN для нечисловых входных значений', () => {
    expect(() => factorial('abc')).toThrowError("Входное значение должно быть числом.");
    expect(() => factorial({})).toThrowError("Входное значение должно быть числом.");
    expect(() => factorial(null)).toThrowError("Входное значение должно быть числом.");
  });

  it('должна правильно обрабатывать факториал больших чисел', () => {
    // Мы ожидаем, что функция справится с вычислением факториала для больших чисел
    expect(factorial(20)).toBe(2432902008176640000);
    expect(factorial(30)).toBe(265252859812191058636308480000000);
    expect(factorial(50)).toBe(3186080489705293444879893344616523459825122144999720512340662903307339381481234567890);
  });
});
